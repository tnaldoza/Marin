/*! CSS RESET & BASE STYLES */

/*! THEME VARIABLES - CSS Custom Properties for Dark/Light Mode */

/* Dark theme (default) - Deep purple aesthetic */
:root,
[data-theme="dark"] {
	/* Backgrounds */
	--bg-primary: #0d0618;
	--bg-secondary: #1a0d2e;
	--bg-tertiary: #2d1b4e;
	--bg-card: rgba(45, 27, 78, 0.4);
	--bg-input: rgba(74, 44, 109, 0.5);
	--bg-hover: rgba(74, 44, 109, 0.7);

	/* Text colors */
	--text-primary: #e9d5ff;
	--text-secondary: #c084fc;
	--text-muted: #a78bfa;
	--text-disabled: #4a2c6d;

	/* Accent colors */
	--accent-primary: #a855f7;
	--accent-secondary: #7c3aed;
	--accent-tertiary: #9333ea;

	/* Borders */
	--border-color: rgba(168, 85, 247, 0.2);
	--border-hover: rgba(168, 85, 247, 0.4);
	--border-focus: rgba(168, 85, 247, 0.6);

	/* Status colors */
	--success: #86efac;
	--danger: #fca5a5;
	--warning: #fbbf24;

	/* Shadows */
	--shadow-sm: 0 4px 16px rgba(0, 0, 0, 0.3);
	--shadow-md: 0 8px 32px rgba(0, 0, 0, 0.37);
	--shadow-lg: 0 12px 48px rgba(168, 85, 247, 0.2);
}

/* Light theme - Inverted purple aesthetic */
[data-theme="light"] {
	/* Backgrounds */
	--bg-primary: #faf5ff;
	--bg-secondary: #f3e8ff;
	--bg-tertiary: #e9d5ff;
	--bg-card: rgba(243, 232, 255, 0.9);
	--bg-input: rgba(233, 213, 255, 0.8);
	--bg-hover: rgba(216, 180, 254, 0.5);

	/* Text colors */
	--text-primary: #1a0d2e;
	--text-secondary: #4a2c6d;
	--text-muted: #6b21a8;
	--text-disabled: #c084fc;

	/* Accent colors */
	--accent-primary: #7c3aed;
	--accent-secondary: #9333ea;
	--accent-tertiary: #6b21a8;

	/* Borders */
	--border-color: rgba(124, 58, 237, 0.3);
	--border-hover: rgba(124, 58, 237, 0.5);
	--border-focus: rgba(124, 58, 237, 0.7);

	/* Status colors */
	--success: #16a34a;
	--danger: #dc2626;
	--warning: #ca8a04;

	/* Shadows */
	--shadow-sm: 0 4px 16px rgba(0, 0, 0, 0.1);
	--shadow-md: 0 8px 32px rgba(0, 0, 0, 0.15);
	--shadow-lg: 0 12px 48px rgba(124, 58, 237, 0.15);
}

/* Universal selector (*) - Applies to ALL elements
   - margin/padding: 0 removes browser defaults
   - box-sizing: border-box makes width/height include padding & border (easier to calculate sizes) */
* {
	margin: 0;
	padding: 0;
	box-sizing: border-box;
}

/* Prevent layout shift from scrollbar appearing/disappearing
   - scrollbar-gutter: reserves space even when scrollbar isn't needed
   - scrollbar-color: sets thumb and track colors for Firefox */
html {
	scrollbar-gutter: stable;
	scrollbar-color: var(--text-muted) var(--bg-primary);
	background: var(--bg-primary); /* Ensures gutter matches theme */
}

/*! CUSTOM SCROLLBAR STYLING - WebKit/Chromium browsers */

/* Scrollbar track (the gutter/background) */
::-webkit-scrollbar {
	width: 14px; /* Slightly wider for better visibility */
}

::-webkit-scrollbar-track {
	background: var(--bg-primary);
	border-left: 1px solid var(--border-color); /* Subtle separator */
}

/* Scrollbar thumb (the draggable part)
   - Uses accent color for visibility and theme consistency
   - border creates "floating" effect with padding from track edge */
::-webkit-scrollbar-thumb {
	background: linear-gradient(180deg, var(--accent-primary), var(--accent-secondary));
	border-radius: 8px;
	border: 3px solid var(--bg-primary); /* Creates padding/floating effect */
	transition: all 0.2s ease;
}

/* Hover state - brightens and slightly scales */
::-webkit-scrollbar-thumb:hover {
	background: linear-gradient(180deg, var(--text-secondary), var(--accent-primary));
	border-width: 2px; /* Expands slightly on hover */
}

/* Active state - when dragging */
::-webkit-scrollbar-thumb:active {
	background: var(--accent-tertiary);
}

/* Body uses theme variables for background and text
   - linear-gradient creates smooth color transition using theme colors
   - transition: Smooth animation when switching themes */
body {
	font-family:
		system-ui,
		-apple-system,
		BlinkMacSystemFont,
		"Segoe UI",
		Roboto,
		sans-serif;
	background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-primary) 100%);
	color: var(--text-primary);
	min-height: 100vh;
	transition:
		background 0.3s ease,
		color 0.3s ease;
}

/* Code blocks styling
   - Monospace font for code
   - Uses theme variables for background and text colors */
code {
	font-family: source-code-pro, Menlo, Monaco, Consolas, "Courier New", monospace;
	background: var(--bg-tertiary);
	padding: 0.2rem 0.4rem;
	border-radius: 4px;
	color: var(--text-secondary);
}

/*! LAYOUT - Main Container */

/* Main app container
   - max-width: Limits width for readability
   - margin: 0 auto centers the container horizontally */
.app {
	max-width: 1200px;
	margin: 0 auto;
	padding: 2rem;
}

/* Header section - Uses theme card background */
.app-header {
	text-align: center;
	margin-bottom: 3rem;
	padding: 2rem;
	background: var(--bg-card);
	border-radius: 12px;
	border: 1px solid var(--text-disabled);
}

/* Header title with glow effect using theme accent color */
.app-header h1 {
	font-size: 3rem;
	color: var(--accent-primary);
	margin-bottom: 0.5rem;
	text-shadow: 0 0 20px var(--border-color);
}

.app-header p {
	font-size: 1.2rem;
	color: var(--text-secondary);
}

/* Main content area
   - display: flex enables flexbox layout
   - flex-direction: column stacks children vertically */
.app-main {
	display: flex;
	flex-direction: column;
	gap: 2rem;
}

/*! NAVBAR - Navigation bar at top of every page */

/* Navbar container - Sticky at top, uses theme colors
   - backdrop-filter: blur() creates frosted glass effect */
.navbar {
	background: var(--bg-secondary);
	backdrop-filter: blur(10px);
	border-bottom: 1px solid var(--border-color);
	padding: 1rem 2rem;
	display: flex;
	justify-content: space-between;
	align-items: center;
	position: sticky;
	top: 0;
	z-index: 1000;
	transition: all 0.3s ease;
}

/* Navbar brand (logo/title) - Uses theme accent color */
.navbar-brand a {
	font-size: 1.5rem;
	font-weight: bold;
	color: var(--accent-primary);
	text-decoration: none;
	transition: color 0.3s ease;
}

.navbar-brand a:hover {
	color: var(--accent-secondary);
}

/* Navbar links - Horizontal list */
.navbar-links {
	display: flex;
	gap: 2rem;
	list-style: none;
	margin: 0;
	padding: 0;
}

.navbar-links a {
	color: var(--text-primary);
	text-decoration: none;
	font-size: 1rem;
	transition: color 0.3s ease;
	position: relative;
}

/* Hover effect - Color change and underline animation */
.navbar-links a:hover {
	color: var(--accent-primary);
}

/* ::after pseudo-element creates animated underline on hover */
.navbar-links a::after {
	content: "";
	position: absolute;
	bottom: -4px;
	left: 0;
	width: 0;
	height: 2px;
	background: var(--accent-primary);
	transition: width 0.3s ease;
}

.navbar-links a:hover::after {
	width: 100%;
}

/* Theme toggle button - Switches between light/dark mode
   - Uses theme variables so it adapts to current theme */
.theme-toggle {
	background: var(--bg-card);
	border: 1px solid var(--border-color);
	border-radius: 8px;
	padding: 0.5rem 1rem;
	font-size: 1.2rem;
	cursor: pointer;
	transition: all 0.3s ease;
	color: var(--text-primary);
}

.theme-toggle:hover {
	border-color: var(--border-hover);
	background: var(--bg-input);
	transform: scale(1.05);
}

/*! PAGE LAYOUT - Common page structure */

/* Page container - Consistent padding for all pages */
.page {
	padding: 2rem;
	max-width: 1400px;
	margin: 0 auto;
}

/* Page header - Title section at top of each page */
.page-header {
	text-align: center;
	margin-bottom: 3rem;
}

.page-header h1 {
	font-size: 2.5rem;
	color: var(--accent-primary);
	margin-bottom: 0.5rem;
}

.page-header p {
	font-size: 1.2rem;
	color: var(--text-secondary);
}

/* Todo page specific layout */
.todo-main {
	display: flex;
	flex-direction: column;
	gap: 2rem;
}

/*! HOME PAGE - Landing page styles */

.home-page {
	text-align: center;
}

/* Feature cards grid - Responsive layout that adapts to screen size */
.features {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
	gap: 2rem;
	margin-top: 3rem;
}

/* Feature card - Glass morphism with theme colors */
.feature-card {
	background: var(--bg-card);
	backdrop-filter: blur(10px);
	border: 1px solid var(--border-color);
	border-radius: 16px;
	padding: 2rem;
	transition: all 0.3s ease;
}

.feature-card:hover {
	transform: translateY(-4px);
	border-color: var(--border-hover);
	box-shadow: var(--shadow-lg);
}

.feature-card h2 {
	color: var(--accent-primary);
	margin-bottom: 1rem;
}

.feature-card p {
	color: var(--text-primary);
	margin-bottom: 1.5rem;
}

/*! SECTIONS - Reusable Container Styles */

.counter-section,
.info-section {
	background: var(--bg-card);
	padding: 2rem;
	border-radius: 12px;
	border: 1px solid var(--text-disabled);
}

.counter-section h2,
.info-section h2 {
	color: var(--accent-primary);
	margin-bottom: 1.5rem;
	font-size: 1.8rem;
}

/*! COUNTER EXAMPLE (for learning) */

.counter-display {
	text-align: center;
	margin: 2rem 0;
}

.count-value {
	font-size: 4rem;
	font-weight: bold;
	color: var(--accent-primary);
	text-shadow: 0 0 30px var(--border-color);
}

/* Flexbox for horizontal button layout */
.counter-buttons {
	display: flex;
	gap: 1rem;
	justify-content: center;
	flex-wrap: wrap;
}

/*! BUTTONS - Reusable Button Styles */

/* Base button styles - Uses theme colors
   - cursor: pointer shows hand icon on hover
   - transition: Smooth animation for all property changes */
.btn {
	padding: 0.75rem 2rem;
	font-size: 1rem;
	font-weight: 600;
	border: none;
	border-radius: 8px;
	cursor: pointer;
	transition: all 0.3s ease;
	min-width: 120px;
}

/* Primary button variant - Uses theme accent colors */
.btn-primary {
	background: var(--accent-secondary);
	color: var(--text-primary);
}

/* :hover pseudo-class - Triggered when mouse is over element */
.btn-primary:hover {
	background: var(--accent-tertiary);
	transform: translateY(-2px);
	box-shadow: var(--shadow-sm);
}

/* Secondary button variant */
.btn-secondary {
	background: var(--text-disabled);
	color: var(--text-primary);
}

.btn-secondary:hover {
	background: var(--text-muted);
	transform: translateY(-2px);
	box-shadow: var(--shadow-sm);
}

/* :active pseudo-class - Triggered when button is being clicked */
.btn:active {
	transform: translateY(0);
}

/*! INFO SECTION */

.info-section ul {
	list-style: none;
	padding: 0;
}

/* List item with accent border on left */
.info-section li {
	padding: 0.75rem;
	margin-bottom: 0.5rem;
	background: var(--bg-input);
	border-radius: 6px;
	border-left: 3px solid var(--accent-primary);
}

/*! FORM STYLING - Glass Morphism */

/* Form container with glass effect
   - backdrop-filter: blur() creates frosted glass effect
   - Uses theme variables for all colors */
form {
	background: var(--bg-card);
	backdrop-filter: blur(10px);
	border: 1px solid var(--border-color);
	border-radius: 16px;
	padding: 1.5rem;
	margin-bottom: 2rem;
	box-shadow: var(--shadow-md);
	display: flex;
	flex-direction: column;
	gap: 1rem;
}

/* Form inputs styling - All use theme variables for consistency */
input[type="text"],
input[type="datetime-local"],
textarea,
select {
	background: var(--bg-input);
	border: 1px solid var(--border-color);
	border-radius: 8px;
	padding: 0.75rem;
	color: var(--text-primary);
	font-size: 1rem;
	font-family: inherit;
	transition: all 0.3s ease;
	width: 100%;
}

/* :focus pseudo-class - Triggered when input is selected/clicked
   - Creates glow effect with theme accent color */
input:focus,
textarea:focus,
select:focus {
	outline: none;
	border-color: var(--accent-primary);
	box-shadow: 0 0 0 3px var(--border-focus);
	background: var(--bg-hover);
}

/* Make entire datetime input clickable */
input[type="datetime-local"] {
	position: relative;
	cursor: pointer;
}

/* Calendar picker indicator - Makes entire input area clickable
   - opacity: 0 hides the icon but keeps it clickable */
input[type="datetime-local"]::-webkit-calendar-picker-indicator {
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	width: 100%;
	height: 100%;
	opacity: 0;
	cursor: pointer;
}

/* ::placeholder pseudo-element - Styles placeholder text */
input::placeholder,
textarea::placeholder {
	color: var(--text-secondary);
	opacity: 0.6;
}

/* Textarea specific styling */
textarea {
	min-height: 80px;
	resize: vertical;
}

/* Select dropdown custom styling
   - appearance: none removes browser default arrow
   - Custom SVG arrow that adapts to theme */
select {
	cursor: pointer;
	appearance: none;
	background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23a855f7' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
	background-repeat: no-repeat;
	background-position: right 0.75rem center;
	padding-right: 2.5rem;
}

/*! TABS - Navigation between Todos/History */

/* Tab container - Holds all tab buttons */
.tabs {
	display: flex;
	gap: 0.5rem;
	margin-bottom: 1.5rem;
	background: var(--bg-card);
	backdrop-filter: blur(10px);
	border: 1px solid var(--border-color);
	border-radius: 12px;
	padding: 0.5rem;
}

/* Individual tab button - Uses theme colors */
.tab {
	flex: 1;
	padding: 0.75rem 1.5rem;
	background: transparent;
	border: none;
	border-radius: 8px;
	color: var(--text-secondary);
	font-size: 1rem;
	font-weight: 600;
	cursor: pointer;
	transition: all 0.3s ease;
}

.tab:hover {
	background: var(--bg-input);
	color: var(--text-primary);
}

/* Active tab state - Highlighted with theme accent color */
.tab.active {
	background: var(--border-color);
	color: var(--text-primary);
	box-shadow: var(--shadow-sm);
}

/*! TOOLBAR - Sort controls and actions */

/* Toolbar container - Uses theme colors for glass effect */
.todo-toolbar {
	display: flex;
	gap: 1rem;
	align-items: center;
	justify-content: space-between;
	flex-wrap: wrap;
	background: var(--bg-card);
	backdrop-filter: blur(10px);
	border: 1px solid var(--border-color);
	border-radius: 12px;
	padding: 1rem 1.5rem;
	margin-bottom: 1.5rem;
}

.todo-toolbar label {
	display: flex;
	align-items: center;
	gap: 0.75rem;
	color: var(--text-secondary);
	font-weight: 500;
}

/*! CUSTOM CHECKBOX - Replacing browser default */

/* Checkbox base styling - Uses theme colors
   - appearance: none removes browser's default checkbox styling */
input[type="checkbox"] {
	appearance: none;
	width: 24px;
	height: 24px;
	border: 2px solid var(--border-color);
	border-radius: 6px;
	background: var(--bg-input);
	cursor: pointer;
	position: relative;
	transition: all 0.3s ease;
}

input[type="checkbox"]:hover {
	border-color: var(--accent-primary);
	background: var(--bg-hover);
}

/* :checked pseudo-class - Uses theme accent color when checked */
input[type="checkbox"]:checked {
	background: var(--accent-secondary);
	border-color: var(--accent-secondary);
}

/* ::after pseudo-element creates checkmark ✓ */
input[type="checkbox"]:checked::after {
	content: "✓";
	position: absolute;
	color: var(--text-primary);
	font-size: 16px;
	font-weight: bold;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
}

/*! DELETE BUTTON - Destructive action styling */

/* Red-themed button for delete action - Uses theme danger color */
.btn-danger {
	background: transparent;
	color: var(--danger);
	border: 1px solid var(--danger);
	padding: 0.5rem 1rem;
	font-size: 0.875rem;
	font-weight: 600;
	border-radius: 8px;
	cursor: pointer;
	transition: all 0.3s ease;
}

.btn-danger:hover {
	background: var(--danger);
	color: var(--text-primary);
	transform: translateY(-2px);
	box-shadow: var(--shadow-sm);
}

/*! TODO CARDS - Main todo item display */

/* Cards container - Grid layout */
.todo-cards {
	display: grid;
	gap: 1rem;
	margin-top: 1.5rem;
}

/* Individual todo card - Glass morphism effect with theme colors */
.todo-card {
	background: var(--bg-card);
	backdrop-filter: blur(10px);
	border: 1px solid var(--border-color);
	border-radius: 16px;
	padding: 1.5rem;
	box-shadow: var(--shadow-md);
	transition: all 0.3s ease;
}

/* Hover state - Card lifts up with theme shadow */
.todo-card:hover {
	transform: translateY(-4px);
	border-color: var(--border-hover);
	box-shadow: var(--shadow-lg);
}

/* Card action buttons spacing */
.todo-card input[type="checkbox"],
.todo-card .btn-danger {
	margin-top: 1rem;
}

.todo-card .btn-danger {
	margin-left: 0.75rem;
}

/*! TODO CARD CONTENT - Text and metadata */

/* Todo header - Contains title and priority stars */
.todo-header {
	display: flex;
	justify-content: space-between;
	align-items: center;
	margin-bottom: 0.75rem;
}

/* Todo title - Uses theme text color */
.todo-card h3 {
	font-size: 1.5rem;
	color: var(--text-primary);
	margin: 0;
	font-weight: 600;
}

/* Completed todo styling */
.todo-card h3.completed {
	text-decoration: line-through;
	opacity: 0.6;
}

/* Priority stars display - Uses theme warning color */
.priority-stars {
	font-size: 1.3rem;
	color: var(--warning);
	filter: drop-shadow(0 0 4px rgba(251, 191, 36, 0.5));
}

/* Priority stars container */
.priority {
	font-size: 1.2rem;
	margin-bottom: 1rem;
	display: flex;
	gap: 0.25rem;
}

/* Star glow effect using theme color */
.priority span {
	filter: drop-shadow(0 0 4px var(--border-color));
}

/* Notes section - Distinct background with theme colors */
.notes {
	background: var(--bg-tertiary);
	padding: 0.75rem;
	border-radius: 8px;
	border-left: 3px solid var(--accent-primary);
	margin: 0.75rem 0;
	font-style: italic;
	color: var(--text-secondary);
}

/* Todo metadata container - Dates and timestamps */
.todo-meta {
	display: flex;
	flex-direction: column;
	gap: 0.5rem;
	margin-top: 1rem;
	font-size: 0.875rem;
}

/* Individual metadata spans - Uses theme text color */
.todo-meta span {
	color: var(--text-secondary);
}

/* Todo controls container - Checkbox and delete button */
.todo-controls {
	display: flex;
	align-items: center;
	gap: 0.75rem;
	margin-top: 1rem;
}

/* Date labels styling */
.due-date,
.date-added,
.completed-date,
.deleted-date {
	font-size: 0.875rem;
	color: var(--text-secondary);
	margin: 0.5rem 0;
	display: flex;
	align-items: center;
	gap: 0.5rem;
}

/* Completed date - Uses theme success color */
.completed-date {
	color: var(--success) !important;
}

/* Deleted date - Uses theme danger color */
.deleted-date {
	color: var(--danger) !important;
}

/* Deleted badge - Shows in history view */
.deleted-badge {
	display: inline-block;
	background: var(--danger);
	color: var(--text-primary);
	padding: 0.25rem 0.75rem;
	border-radius: 12px;
	font-size: 0.875rem;
	font-weight: 500;
	margin-left: 0.75rem;
	border: 1px solid var(--danger);
	opacity: 0.7;
}

/*! RESPONSIVE DESIGN - Mobile friendly */

/* @media query - Applies styles only on smaller screens
   - Adjusts layouts for mobile devices */
@media (max-width: 768px) {
	.app {
		padding: 1rem;
	}

	.app-header h1 {
		font-size: 2rem;
	}

	.count-value {
		font-size: 3rem;
	}

	/* Stack buttons vertically on mobile */
	.counter-buttons {
		flex-direction: column;
	}

	/* Full width buttons on mobile */
	.btn {
		width: 100%;
	}

	/* Adjust navbar for mobile */
	.navbar {
		padding: 1rem;
		flex-wrap: wrap;
		gap: 1rem;
	}

	.navbar-links {
		gap: 1rem;
	}

	/* Stack feature cards on small screens */
	.features {
		grid-template-columns: 1fr;
	}
}
